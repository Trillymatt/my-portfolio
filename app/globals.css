@tailwind base;
@tailwind components;
@tailwind utilities;

html { scroll-behavior: smooth; }

/* === DUAL MODE THEME SYSTEM === */

/* Business mode: dark background, cyan accent */
:root,
[data-mode="business"] {
  --bg-start: #0b1b2b;
  --bg-end: #071320;
  --bg-solid: #0b1b2b;
  --texture-color: 255 255 255;
  --accent: 6 182 212;       /* cyan-500 */
  --accent-hex: #06b6d4;
  --surface: rgba(255,255,255,0.05);
  --surface-border: rgba(255,255,255,0.10);
  --surface-hover: rgba(255,255,255,0.10);
  --text-primary: #ffffff;
  --text-secondary: rgba(255,255,255,0.70);
  --text-muted: rgba(255,255,255,0.50);
  --nav-bg: rgba(7,19,32,0.6);
  --modal-bg: rgba(7,19,32,0.95);
  --modal-overlay: rgba(7,19,32,0.6);
}

/* Professional mode: accent-rich background, indigo accent */
[data-mode="professional"] {
  --bg-start: #0f0a1e;
  --bg-end: #0a0618;
  --bg-solid: #0f0a1e;
  --texture-color: 139 92 246;
  --accent: 99 102 241;      /* indigo-500 */
  --accent-hex: #6366f1;
  --surface: rgba(99,102,241,0.08);
  --surface-border: rgba(99,102,241,0.20);
  --surface-hover: rgba(99,102,241,0.15);
  --text-primary: #ffffff;
  --text-secondary: rgba(255,255,255,0.75);
  --text-muted: rgba(255,255,255,0.50);
  --nav-bg: rgba(15,10,30,0.7);
  --modal-bg: rgba(15,10,30,0.95);
  --modal-overlay: rgba(15,10,30,0.6);
}

body {
  background-color: var(--bg-solid);
  background-image:
    radial-gradient(rgba(var(--texture-color) / 0.04) 1px, transparent 1px),
    linear-gradient(180deg, var(--bg-start), var(--bg-end));
  background-size: 24px 24px, 100% 100%;
  background-attachment: fixed, fixed;
  transition: background-color 0.5s ease, background-image 0.5s ease;
}

/* Accent utility classes */
.accent-text { color: rgb(var(--accent)); }
.accent-bg { background-color: rgb(var(--accent)); }
.accent-border { border-color: rgb(var(--accent) / 0.3); }
.accent-glow { box-shadow: 0 0 20px rgb(var(--accent) / 0.15); }
.accent-glow-hover:hover { box-shadow: 0 0 24px rgb(var(--accent) / 0.12); border-color: rgb(var(--accent) / 0.25) !important; }

/* Ensure <option> text is readable on dark selects */
select option {
  background-color: var(--bg-solid);
  color: #ffffff;
}

/* Focus ring uses accent color instead of default browser blue */
*:focus-visible {
  --tw-ring-color: rgb(var(--accent) / 0.5);
  outline: none;
}
input:focus, textarea:focus, select:focus {
  --tw-ring-color: rgb(var(--accent) / 0.5);
  border-color: rgb(var(--accent) / 0.4) !important;
}

/* === VIEW TRANSITIONS: Expanding circle on mode switch === */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 9999;
  animation: circle-expand 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes circle-expand {
  from {
    clip-path: circle(0% at var(--toggle-x, 50%) var(--toggle-y, 50%));
  }
  to {
    clip-path: circle(150% at var(--toggle-x, 50%) var(--toggle-y, 50%));
  }
}

/* Disable animation for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none !important;
  }
}

/* === KONAMI CODE EASTER EGG FLASH === */
@keyframes mode-flash {
  0% { opacity: 0; }
  50% { opacity: 0.15; }
  100% { opacity: 0; }
}

.mode-flash-overlay {
  animation: mode-flash 0.6s ease-out forwards;
}
